<div class="home" ng-controller="HomeController" ng-init="init()">

  <div class="loading-screen" ng-show="$root.starting">
    <div class="spinner">
      <div class="contener_general">
          <div class="contener_mixte"><div class="ballcolor ball_1">&nbsp;</div></div>
          <div class="contener_mixte"><div class="ballcolor ball_2">&nbsp;</div></div>
          <div class="contener_mixte"><div class="ballcolor ball_3">&nbsp;</div></div>
          <div class="contener_mixte"><div class="ballcolor ball_4">&nbsp;</div></div>
      </div>
      <span class="text-gray size-12" translate>Accessing your profile...</span>
    </div>
  </div>

  <div class="large-4 large-centered medium-7 medium-centered columns" ng-show="!$root.starting">
    <div class="logo-setup">
      <img src="img/logo-negative-beta.svg" alt="Copay" width="146" height="59">
      <div ng-include="'views/includes/version.html'"></div>
    </div>

    <div class="p10 box-setup bg-success m10b text-white" ng-show="pendingPayment">
      <div class="left">
        <i class="size-36 m10r"></i>
      </div>
      <div class="size-14">
        Please sign in to make the payment
      </div>
    </div>
    <div class="p10 box-setup bg-success m10b text-white" ng-show="confirmedEmail">
      <div class="left">
        <i class="size-36 fi-check m10r"></i>
      </div>
      <div class="size-14">
        <h3>
        Your email was confimed!
        </h3>
  
        Please sign in to access your wallets
      </div>
    </div>
    <div class="p10 box-setup bg-success m10b text-white" ng-show="anyWallet && !confirmedEmail && !error">
      <div class="left">
        <i class="size-36 fi-alert m10r"></i>
      </div>
      <b>Copay now needs a profile to access wallets.</b>
      You can import your current wallets after 
      <a class="text-white" href="#!/createProfile">creating your profile</a>
    </div>

    <div class="box-setup" ng-if='setPin'>
      <h1><span translate>Set your </span> <b> PIN number</b></h1>
      <form name="setPinForm" ng-submit="createPin(setPinForm)" novalidate> 
        <div class="input">
          <input id="setpin" type="tel" ng-model="setpin" class="form-control"
            ng-maxlength="4" ng-minlength="4" maxlength="4"
            placeholder="Pin number" name="setpin" required auto-focus>
          <i class="icon-locked"></i>
        </div>
        <div class="input">
          <input id="repeatpin" type="tel" ng-model="repeatpin" class="form-control"
            ng-maxlength="4" ng-minlength="4" maxlength="4"
            placeholder="Repeat pin number" name="repeatpin"
            match="setpin" required>
          <i class="icon-locked"></i>
        </div>

        <p class="text-warning size-12" ng-show="setPinForm.repeatpin.$dirty && setPinForm.repeatpin.$invalid">
          <i class="fi-x"></i> 
          {{'Pin must match'|translate}}
        </p>
 
        <button translate type="submit" class="button primary radius expand m0"
          ng-disabled="setPinForm.$invalid || loading">
          Set pin 
        </button>
      </form>
      <div class="box-setup-footer text-right">
        <a class="text-gray" ng-click="createPin()">
          <span translate>Skip</span> 
          <i class="icon-arrow-right3"></i>
        </a>
      </div>
    </div>

    <div class="box-setup" ng-if='hasPin'>
      <h1><span translate>Enter your </span> <b> PIN number</b></h1>
      <form name="pinForm" ng-submit="openWithPin(pinForm)" novalidate>
        <p class="text-warning size-12" ng-show="error">
          <i class="fi-x"></i> 
          {{error|translate}}
        </p>
        <div class="input">
          <input id="pin" type="tel" ng-model="pin" class="form-control"
            ng-maxlength="4" ng-minlength="4" maxlength="4"
            placeholder="Pin number" name="pin" required auto-focus>
          <i class="icon-locked"></i>
        </div>
 
        <button translate type="submit" class="button primary radius expand m0"
          ng-disabled="pinForm.$invalid || loading">
          Sign in 
        </button>
      </form>
      <div class="box-setup-footer text-right">
        <a class="text-gray" ng-click="pinLogout()">
          <i class="icon-power"></i> 
          <span translate>Logout</span>
        </a>
      </div>
    </div>


    <div class="box-setup" ng-if='!hasPin && !setPin'>
      <h1><span translate>Sign in to</span> <b>Copay</b></h1>
      <form name="loginForm" ng-submit="openWithCredentials(loginForm)" novalidate>
        <p class="text-warning size-12"
          ng-show="error">
          <i class="fi-x"></i> 
          {{error|translate}}
          </p>
        <div class="input">
          <input type="email" ng-model="email" class="form-control"
            name="email" placeholder="Email" required auto-focus>
          <i class="icon-email"></i>
        </div>
        <div class="input">
        <input type="password" ng-model="password" class="form-control"
          name="password" placeholder="Password" required>
          <i class="icon-locked"></i>
        </div>
          
        <button translate type="submit" class="button primary radius expand m0"
          ng-disabled="loginForm.$invalid || loading">
          Sign in 
        </button>
      </form>

      <div class="box-setup-footer">
        <div class="left m10r">
          <a class="button-setup text-gray" href="#!/createProfile">
            <i class="icon-person"></i> 
            <span translate>Create a profile</span>
          </a>
        </div>
        <div class="left">
          <a class="button-setup text-gray" href="#!/importProfile">
            <i class="icon-upload"></i> 
            <span translate>Import a profile</span>
          </a>
        </div>
        <div class="right m10t">
          <a class="text-gray" href="#!/settings">
            <i class="icon-wrench"></i> 
            <span translate>Settings</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>


